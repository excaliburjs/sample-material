{"version":3,"file":"index-BbGcrcbw.js","sources":["../../src/fire/noise.png?url","../../src/fire/fire.ts"],"sourcesContent":["export default \"__VITE_ASSET__D$MGX8fu__\"","import { Actor, Color, DisplayMode, Engine, ImageFiltering, ImageSource, ImageWrapping, Loader, vec } from \"excalibur\";\nimport { glsl } from \"../glsl\";\n\nimport noiseImg from './noise.png?url';\n\n// identity tagged template literal lights up glsl-literal vscode plugin\nconst game = new Engine({\n    width: 800,\n    height: 800,\n    displayMode: DisplayMode.FitScreen,\n    suppressPlayButton: true\n});\n\nconst fireShader = glsl`#version 300 es\n  precision mediump float;\n  uniform float animation_speed;\n  uniform float offset;\n  uniform float u_time_ms;\n  uniform sampler2D u_graphic;\n  uniform sampler2D noise;\n  in vec2 v_uv;\n  out vec4 fragColor;\n\n  void main() {\n    vec2 animatedUV = vec2(v_uv.x, v_uv.y + (u_time_ms / 1000.) * 0.5);\n    vec4 color = texture(noise, animatedUV);\n    color.rgb += (v_uv.y - 0.5);\n    color.rgb = step(color.rgb, vec3(0.5));\n    color.rgb = vec3(1.0) - color.rgb;\n\n    fragColor.rgb = mix(vec3(1.0, 1.0, 0.0), vec3(1.0, 0.0, 0.0), v_uv.y);\n    fragColor.a = color.r;\n    fragColor.rgb = fragColor.rgb * fragColor.a;\n  }\n`;\n\nvar noiseImage = new ImageSource(noiseImg, {\n    filtering: ImageFiltering.Blended,\n    wrapping: ImageWrapping.Repeat\n});\n\nvar material = game.graphicsContext.createMaterial({\n    name: 'fire',\n    fragmentSource: fireShader,\n    images: {\n        noise: noiseImage\n    }\n});\n\nvar actor = new Actor({\n    pos: vec(0, 200),\n    anchor: vec(0, 0),\n    width: 800,\n    height: 600,\n    color: Color.Red\n});\nactor.graphics.material = material;\ngame.add(actor);\n\nvar loader = new Loader([noiseImage]);\n\ngame.start(loader);\n"],"names":["noiseImg","game","Engine","DisplayMode","fireShader","glsl","noiseImage","ImageSource","ImageFiltering","ImageWrapping","material","actor","Actor","vec","Color","loader","Loader"],"mappings":"sIAAA,MAAeA,EAAA,6CCMTC,EAAO,IAAIC,EAAO,CACpB,MAAO,IACP,OAAQ,IACR,YAAaC,EAAY,UACzB,mBAAoB,EACxB,CAAC,EAEKC,EAAaC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAuBnB,IAAIC,EAAa,IAAIC,EAAYP,EAAU,CACvC,UAAWQ,EAAe,QAC1B,SAAUC,EAAc,MAC5B,CAAC,EAEGC,EAAWT,EAAK,gBAAgB,eAAe,CAC/C,KAAM,OACN,eAAgBG,EAChB,OAAQ,CACJ,MAAOE,CAAA,CAEf,CAAC,EAEGK,EAAQ,IAAIC,EAAM,CAClB,IAAKC,EAAI,EAAG,GAAG,EACf,OAAQA,EAAI,EAAG,CAAC,EAChB,MAAO,IACP,OAAQ,IACR,MAAOC,EAAM,GACjB,CAAC,EACDH,EAAM,SAAS,SAAWD,EAC1BT,EAAK,IAAIU,CAAK,EAEd,IAAII,EAAS,IAAIC,EAAO,CAACV,CAAU,CAAC,EAEpCL,EAAK,MAAMc,CAAM"}